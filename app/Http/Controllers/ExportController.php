<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ExportController extends Controller {
    public function svgs(Request $request) {
        $palettes = $request->get('palettes');
        abort_unless($palettes, 419);

        $colors = json_decode($palettes);

        // return response()->json($colors);

        $hash = substr(sha1($palettes), 0, 5);
        $filename = "grayscale-$hash.svg";

        $i = 0;
        $j = 0;
        $file = '';
        $swatchW = 60;
        $swatchH = 60;
        $topPadding = 60;
        $leftPadding = 50;
        foreach ($colors as $name => $color) {
            $y = $i * ($swatchH + 50 + $topPadding) + $topPadding;
            // Labels
            $file .= '<text transform="translate(' . $leftPadding . ' ' . ($y - 10) . ')" style="font-size: 12px;fill: #232834;font-family: Courier, monospace;font-weight: 700">' . $name . '</text>';
            $file .= '<text transform="translate(' . ($leftPadding - 20) . ' ' . ($y + $swatchH + 10) . ')" style="font-size: 5px;fill: #b4bed5;font-family: Courier, monospace;font-weight: 700">hex:</text>';
            $file .= '<text transform="translate(' . ($leftPadding - 20) . ' ' . ($y + $swatchH + 20) . ')" style="font-size: 5px;fill: #b4bed5;font-family: Courier, monospace;font-weight: 700">rgb:</text>';
            $file .= '<text transform="translate(' . ($leftPadding - 20) . ' ' . ($y + $swatchH + 30) . ')" style="font-size: 5px;fill: #b4bed5;font-family: Courier, monospace;font-weight: 700">hsl:</text>';
            $file .= '<text transform="translate(' . ($leftPadding - 20) . ' ' . ($y + $swatchH + 40) . ')" style="font-size: 5px;fill: #b4bed5;font-family: Courier, monospace;font-weight: 700">lum:</text>';
            $file .= '<text transform="translate(' . ($leftPadding - 20) . ' ' . ($y + $swatchH + 50) . ')" style="font-size: 5px;fill: #b4bed5;font-family: Courier, monospace;font-weight: 700">val:</text>';
            $j = 0;
            foreach ($color->swatches as $index => $swatch) {
                $swatchCount = count((array) $color->swatches);
                $label = $swatchCount >= 10 ? ($index == 0 ? '50' : $index . '00') : ($index + 1) . '00';
                $x = $j * $swatchW + $leftPadding;
                $file .= '<rect id="' . "$name-" . ($index + 1) . '00" x="' . $x . '" y="' . $y . '" width="' . $swatchW . '" height="' . $swatchH . '" style="fill: ' . $swatch->hex . '" />';
                $file .= '<text transform="translate(' . $x . ' ' . ($y + $swatchH + 10) . ')" style="font-size: 5px;fill: #231f20;font-family: Courier, monospace">' . $swatch->hex . '</text>';
                $file .= '<text transform="translate(' . $x . ' ' . ($y + $swatchH + 20) . ')" style="font-size: 5px;fill: #231f20;font-family: Courier, monospace">' . implode(', ', $swatch->rgb) . '</text>';
                $file .= '<text transform="translate(' . $x . ' ' . ($y + $swatchH + 30) . ')" style="font-size: 5px;fill: #231f20;font-family: Courier, monospace">' . round($swatch->hsl[0]) . ', ' . round($swatch->hsl[1], 1) . '%, ' . round($swatch->hsl[2], 1) . '%</text>';
                $file .= '<text transform="translate(' . $x . ' ' . ($y + $swatchH + 40) . ')" style="font-size: 5px;fill: #231f20;font-family: Courier, monospace">' . round($swatch->lum, 2) . '%</text>';
                $file .= '<text transform="translate(' . $x . ' ' . ($y + $swatchH + 50) . ')" style="font-size: 5px;fill: #231f20;font-family: Courier, monospace">' . $label . '</text>';
                $j++;
            }
            $i++;
        }

        // Adjust width and height based on how many colors and swatches there are
        $w = $leftPadding * 2 + $j * $swatchW;
        $h = $topPadding + $i * ($swatchH + 100);
        $file = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="' . $w . '" height="' . $h . '" viewBox="0 0 ' . $w . ' ' . $h . '">' . $file;

        // Logo
        $file .= '<image id="logo" width="322" height="63" transform="translate(' . ($w - (322 / 3 + 20)) . ' 20) scale(0.33)" xlink:href="data:image/png;base64,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"/>';
        $file .= '</svg>';
        return response($file)->withHeaders([
            'Content-Type' => 'image/svg+xml',
            'Content-Disposition' => "attachment; filename=$filename",
        ]);
    }
}
